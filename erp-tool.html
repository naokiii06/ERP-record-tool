{\rtf1\ansi\ansicpg932\cocoartf2709
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\fs24 \cf0 <!DOCTYPE html>\
<html lang="ja">\
<head>\
  <meta charset="UTF-8">\
  <title>ERP\uc0\u35352 \u37682 \u12484 \u12540 \u12523 </title>\
  <style>\
    body \{\
      font-family: sans-serif;\
      background-color: #fdf6ee;\
      color: #4a3f35;\
      padding: 2em;\
    \}\
    h1, h2 \{\
      color: #3b312c;\
    \}\
    .section \{\
      background-color: #fffaf4;\
      border: 1px solid #e0d5c2;\
      border-radius: 8px;\
      padding: 1.5em;\
      margin-bottom: 2em;\
      box-shadow: 2px 2px 5px rgba(0,0,0,0.05);\
    \}\
    input, textarea, select, button \{\
      font-size: 1em;\
      width: 100%;\
      margin-top: 8px;\
      margin-bottom: 16px;\
      padding: 0.5em;\
      border: 1px solid #d5c9b4;\
      border-radius: 5px;\
      background-color: #fffdf9;\
      color: #3a2f26;\
    \}\
    button \{\
      background-color: #e7d5b9;\
      border: none;\
      cursor: pointer;\
      font-weight: bold;\
    \}\
    button:hover \{\
      background-color: #d8c5a8;\
    \}\
    table \{\
      width: 100%;\
      border-collapse: collapse;\
      margin-top: 1em;\
    \}\
    th, td \{\
      border: 1px solid #e3d9c8;\
      padding: 8px;\
      text-align: left;\
    \}\
    th \{\
      background-color: #f1e7da;\
    \}\
  </style>\
</head>\
<body>\
\
  <h1>ERP\uc0\u35352 \u37682 \u12484 \u12540 \u12523 </h1>\
\
  <div class="section">\
    <h2>\uc0\u35506 \u38988 \u12434 \u36984 \u12406 </h2>\
    <select id="taskSelector">\
      <option value="">--- \uc0\u35506 \u38988 \u12434 \u36984 \u25246  ---</option>\
    </select>\
    <button onclick="showTaskForm()">\uc0\u65291  \u26032 \u12375 \u12356 \u35506 \u38988 \u12434 \u20316 \u25104 </button>\
  </div>\
\
  <div class="section" id="taskForm" style="display:none;">\
    <h2>\uc0\u35506 \u38988 \u12398 \u26032 \u35215 \u20316 \u25104 </h2>\
    <label>\uc0\u26292 \u38706 \u12377 \u12427 \u20869 \u23481 \u12539 \u35506 \u38988 </label>\
    <textarea id="taskContent"></textarea>\
\
    <label>\uc0\u26292 \u38706 \u20013 \u12395 \u34892 \u12431 \u12394 \u12356 \u12424 \u12358 \u12395 \u12377 \u12427 \u34892 \u21205 </label>\
    <textarea id="avoidBehavior"></textarea>\
\
    <label>\uc0\u24037 \u22827 \u12539 \u29872 \u22659 \u12398 \u35519 \u25972 </label>\
    <textarea id="adjustment"></textarea>\
\
    <button onclick="saveTask()">\uc0\u20445 \u23384 \u12375 \u12390 \u35352 \u37682 \u12434 \u38283 \u22987 </button>\
  </div>\
\
  <div class="section" id="recordForm" style="display:none;">\
    <h2>ERP\uc0\u35352 \u37682 \u12398 \u20837 \u21147 </h2>\
    <label>\uc0\u26085 \u20184 </label>\
    <input type="date" id="recordDate">\
\
    <label>\uc0\u19981 \u23433 \u24471 \u28857 \u65288 0\u12316 100\u65289 </label>\
    <input type="number" placeholder="\uc0\u30452 \u21069 " id="anxBefore" min="0" max="100">\
    <input type="number" placeholder="\uc0\u30452 \u24460 " id="anxAfter" min="0" max="100">\
    <input type="number" placeholder="5\uc0\u20998 \u24460 " id="anx5" min="0" max="100">\
    <input type="number" placeholder="10\uc0\u20998 \u24460 " id="anx10" min="0" max="100">\
    <input type="number" placeholder="30\uc0\u20998 \u24460 " id="anx30" min="0" max="100">\
\
    <label>\uc0\u23455 \u26045 \u24460 \u12398 \u27671 \u12389 \u12365 \u12539 \u24863 \u24819 </label>\
    <textarea id="feedback"></textarea>\
\
    <button onclick="saveRecord()">\uc0\u35352 \u37682 \u12434 \u36861 \u21152 </button>\
  </div>\
\
  <div class="section" id="recordList" style="display:none;">\
    <h2>\uc0\u35352 \u37682 \u12398 \u19968 \u35239 </h2>\
    <table id="recordTable">\
      <thead>\
        <tr><th>\uc0\u22238 \u25968 </th><th>\u26085 \u20184 </th><th>\u19981 \u23433 \u24471 \u28857 </th><th>\u27671 \u12389 \u12365 \u12539 \u24863 \u24819 </th></tr>\
      </thead>\
      <tbody></tbody>\
    </table>\
  </div>\
\
  <script>\
    let tasks = JSON.parse(localStorage.getItem("erpTasks") || "[]");\
    let currentTaskIndex = null;\
\
    function updateTaskSelector() \{\
      const selector = document.getElementById("taskSelector");\
      selector.innerHTML = '<option value="">--- \uc0\u35506 \u38988 \u12434 \u36984 \u25246  ---</option>';\
      tasks.forEach((t, i) => \{\
        selector.innerHTML += `<option value="$\{i\}">$\{t.content.substring(0, 20)\}</option>`;\
      \});\
    \}\
\
    function showTaskForm() \{\
      document.getElementById("taskForm").style.display = "block";\
    \}\
\
    function saveTask() \{\
      const content = document.getElementById("taskContent").value;\
      const avoid = document.getElementById("avoidBehavior").value;\
      const adjust = document.getElementById("adjustment").value;\
      tasks.push(\{ content, avoid, adjust, records: [] \});\
      localStorage.setItem("erpTasks", JSON.stringify(tasks));\
      updateTaskSelector();\
      alert("\uc0\u35506 \u38988 \u12434 \u20445 \u23384 \u12375 \u12414 \u12375 \u12383 ");\
      document.getElementById("taskForm").style.display = "none";\
    \}\
\
    document.getElementById("taskSelector").addEventListener("change", function () \{\
      const idx = this.value;\
      if (idx === "") return;\
      currentTaskIndex = parseInt(idx);\
      document.getElementById("recordForm").style.display = "block";\
      document.getElementById("recordList").style.display = "block";\
      displayRecords();\
    \});\
\
    function saveRecord() \{\
      const r = \{\
        date: document.getElementById("recordDate").value,\
        anxiety: \{\
          before: parseInt(document.getElementById("anxBefore").value),\
          after: parseInt(document.getElementById("anxAfter").value),\
          min5: parseInt(document.getElementById("anx5").value),\
          min10: parseInt(document.getElementById("anx10").value),\
          min30: parseInt(document.getElementById("anx30").value)\
        \},\
        feedback: document.getElementById("feedback").value\
      \};\
      tasks[currentTaskIndex].records.push(r);\
      localStorage.setItem("erpTasks", JSON.stringify(tasks));\
      displayRecords();\
      alert("\uc0\u35352 \u37682 \u12434 \u20445 \u23384 \u12375 \u12414 \u12375 \u12383 \u65281 ");\
    \}\
\
    function displayRecords() \{\
      const tbody = document.querySelector("#recordTable tbody");\
      tbody.innerHTML = "";\
      const records = tasks[currentTaskIndex].records;\
      records.forEach((r, i) => \{\
        const anx = r.anxiety;\
        const score = `\uc0\u30452 \u21069 :$\{anx.before\}, \u30452 \u24460 :$\{anx.after\}, 5\u20998 :$\{anx.min5\}, 10\u20998 :$\{anx.min10\}, 30\u20998 :$\{anx.min30\}`;\
        tbody.innerHTML += `\
          <tr>\
            <td>$\{i + 1\}\uc0\u22238 \u30446 </td>\
            <td>$\{r.date\}</td>\
            <td>$\{score\}</td>\
            <td>$\{r.feedback\}</td>\
          </tr>\
        `;\
      \});\
    \}\
\
    updateTaskSelector();\
  </script>\
\
</body>\
</html>\
}