<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2299.77">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Mincho ProN'; -webkit-text-stroke: #000000}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Hiragino Mincho ProN'; -webkit-text-stroke: #000000; min-height: 18.0px}
    span.s1 {font-kerning: none}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE html&gt;</span></p>
<p class="p1"><span class="s1">&lt;html lang="ja"&gt;</span></p>
<p class="p1"><span class="s1">&lt;head&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;meta charset="UTF-8"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;title&gt;ERP記録ツール&lt;/title&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;style&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>body {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: sans-serif;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background-color: #fdf6ee;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: #4a3f35;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 2em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>h1, h2 {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: #3b312c;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.section {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background-color: #fffaf4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid #e0d5c2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 1.5em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 2em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>box-shadow: 2px 2px 5px rgba(0,0,0,0.05);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>input, textarea, select, button {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 0.5em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid #d5c9b4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 5px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background-color: #fffdf9;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: #3a2f26;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>button {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background-color: #e7d5b9;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: bold;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>button:hover {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background-color: #d8c5a8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>table {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-collapse: collapse;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 1em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>th, td {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid #e3d9c8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: left;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>th {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background-color: #f1e7da;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/style&gt;</span></p>
<p class="p1"><span class="s1">&lt;/head&gt;</span></p>
<p class="p1"><span class="s1">&lt;body&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;h1&gt;ERP記録ツール&lt;/h1&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div class="section"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;h2&gt;課題を選ぶ&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;select id="taskSelector"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;option value=""&gt;--- 課題を選択 ---&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/select&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;button onclick="showTaskForm()"&gt;＋ 新しい課題を作成&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div class="section" id="taskForm" style="display:none;"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;h2&gt;課題の新規作成&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;label&gt;暴露する内容・課題&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;textarea id="taskContent"&gt;&lt;/textarea&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;label&gt;暴露中に行わないようにする行動&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;textarea id="avoidBehavior"&gt;&lt;/textarea&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;label&gt;工夫・環境の調整&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;textarea id="adjustment"&gt;&lt;/textarea&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;button onclick="saveTask()"&gt;保存して記録を開始&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div class="section" id="recordForm" style="display:none;"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;h2&gt;ERP記録の入力&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;label&gt;日付&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;input type="date" id="recordDate"&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;label&gt;不安得点（0〜100）&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;input type="number" placeholder="直前" id="anxBefore" min="0" max="100"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;input type="number" placeholder="直後" id="anxAfter" min="0" max="100"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;input type="number" placeholder="5分後" id="anx5" min="0" max="100"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;input type="number" placeholder="10分後" id="anx10" min="0" max="100"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;input type="number" placeholder="30分後" id="anx30" min="0" max="100"&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;label&gt;実施後の気づき・感想&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;textarea id="feedback"&gt;&lt;/textarea&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;button onclick="saveRecord()"&gt;記録を追加&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div class="section" id="recordList" style="display:none;"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;h2&gt;記録の一覧&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;table id="recordTable"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;thead&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;tr&gt;&lt;th&gt;回数&lt;/th&gt;&lt;th&gt;日付&lt;/th&gt;&lt;th&gt;不安得点&lt;/th&gt;&lt;th&gt;気づき・感想&lt;/th&gt;&lt;/tr&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;/thead&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;tbody&gt;&lt;/tbody&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/table&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>let tasks = JSON.parse(localStorage.getItem("erpTasks") || "[]");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>let currentTaskIndex = null;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function updateTaskSelector() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const selector = document.getElementById("taskSelector");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>selector.innerHTML = '&lt;option value=""&gt;--- 課題を選択 ---&lt;/option&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>tasks.forEach((t, i) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>selector.innerHTML += `&lt;option value="${i}"&gt;${t.content.substring(0, 20)}&lt;/option&gt;`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function showTaskForm() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById("taskForm").style.display = "block";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function saveTask() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const content = document.getElementById("taskContent").value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const avoid = document.getElementById("avoidBehavior").value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const adjust = document.getElementById("adjustment").value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>tasks.push({ content, avoid, adjust, records: [] });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>localStorage.setItem("erpTasks", JSON.stringify(tasks));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>updateTaskSelector();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>alert("課題を保存しました");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById("taskForm").style.display = "none";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>document.getElementById("taskSelector").addEventListener("change", function () {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const idx = this.value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (idx === "") return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>currentTaskIndex = parseInt(idx);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById("recordForm").style.display = "block";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById("recordList").style.display = "block";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>displayRecords();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function saveRecord() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const r = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>date: document.getElementById("recordDate").value,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>anxiety: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>before: parseInt(document.getElementById("anxBefore").value),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>after: parseInt(document.getElementById("anxAfter").value),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>min5: parseInt(document.getElementById("anx5").value),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>min10: parseInt(document.getElementById("anx10").value),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>min30: parseInt(document.getElementById("anx30").value)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>feedback: document.getElementById("feedback").value</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>tasks[currentTaskIndex].records.push(r);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>localStorage.setItem("erpTasks", JSON.stringify(tasks));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>displayRecords();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>alert("記録を保存しました！");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function displayRecords() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const tbody = document.querySelector("#recordTable tbody");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>tbody.innerHTML = "";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const records = tasks[currentTaskIndex].records;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>records.forEach((r, i) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const anx = r.anxiety;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const score = `直前:${anx.before}, 直後:${anx.after}, 5分:${anx.min5}, 10分:${anx.min10}, 30分:${anx.min30}`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>tbody.innerHTML += `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;tr&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td&gt;${i + 1}回目&lt;/td&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td&gt;${r.date}&lt;/td&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td&gt;${score}&lt;/td&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td&gt;${r.feedback}&lt;/td&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/tr&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>updateTaskSelector();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/script&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">&lt;/body&gt;</span></p>
<p class="p1"><span class="s1">&lt;/html&gt;</span></p>
</body>
</html>
